<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수</title>
    <style>

        p{
                    width: 500px;
                    height: 100px;
                    background: lightgray;
                    border: 1px solid black;

                }

    </style>
</head>
<body>
    <h1>함수(Function)</h1>
    <h3>function 함수명 ([매개변수, 매개변수...]){ 소스코드작성} 으로 작성하여 실행하는방법</h3>
    <button onclick="test1();">실행확인</button>
    <p id="pl"></p>
    <script>
        /*function test1(){
            let p1 = document.getElementById("p1");
            p1.innerHTML = "test1() 함수를 실행"
        }*/

        //축약형
        const test1 = ()=>{
            document.getElementById("p1").innerHTML = "test1() 함수를 실행"
        }
    </script>
    <h3>함수명 = function ([매개변수, 매개변수...]){ 소스코드작성} : 익명함수(이벤트 핸들러에서 주로 사용)</h3>

    <button id = "btn2">실행확인</button>
    <p id = "p2">

    <script>
        const btn2 = document.getElementById("btn2");
        btn2.onclick = function(){
            document.getElementById("p2").innerHTML = "이벤트 핸들러를 통해 함수 실행됨"
        }

    </script>
    <h3>스스로 실행하는 함수 : (function (){})() : IIFE - Immediately -Invoked Function Expression  - 즉시실행함수라고함</h3>
    <p id = "p3">
    
    <script>
        (function(){
            const p3 = document.getElementById("p3");
            p3.innerHTM="자동으로 혼자 실행됨!!!"
        })();
        
        /*

        (() =>{
            alert("자동으로 호자실행!!")
        })();*/
        
    </script>

    <h3>함수의 전달 인자와 매개변수 </h3>
    <button id = "btn1">실행확인</button>
    <p id = "p4">

    <script>
        function test4(value){
            const p4 = document.getElementById("p4");
            p4.innerHTML += value = "<br>";
            console.log(arguments) // arguments : 모든 함수마다 내부적으로 하나씩 존재하는 배열객체, 함수 실행시 전달되는 값은 arguments 배열에 그 전달값이 담김
        }

        document.getElementById("btn1").onclick = function(){
            test4("안녕하세요 !!");
            test4("안녕하세요 !!","반갑습니다~"); // 지정된 매개변수보다 많은 갯수의 인자를 넣는것은 허용되지만 초과된다.
            test4(); //undefined // 지정된 매개변수보다 적게 보내는 것이 혀용은 되지만 초기화가 되지 않아 undefined

            test4(prompt("메세지를 입력하세요"))
        }
    </script>
    <h3>함수의 리턴처리 </h3>
    <button onclick="test5()">실행확인</button>
    <p id = "p5">
    <script>
        function test5(){//함수 선언식


            alert(test1);
            var test1 = 5;
            alert(test1);




            var p5 = document.getElementById("p5");
            var value = returnFunction();
            p5.innerHTML = value;
            // 함수 선언식은 호이스팅이 되고 함수 표현식은 호이스티잉 되지 않는다.
            // 호이스팅 : 함수 선언부, var 가 해당 스코프의 최상단으로 옮겨 진것 처럼 동작

            /*function returnFunction(){ // 함수 선언식
                return Math.floor(Math.random()*100)+1;
            }
            

            var returnFunction = function(){
                return Math.floor(Math.random()*100)+1;
            }*/
        }
        
        
        var returnFunction = function(){
                return Math.floor(Math.random()*100)+1;
        }
    </script>
    <h3> 매개 변수 함수에 this요소 전달하기 </h3>
    <button onclick="testFn(this);">버튼1</button>
    <button onclick="testFn(this.innerHTML);">버튼2</button>


    <input type= "button" onclick="testFn(this.value);" value="버튼3">
    <script>
        function testFn(elements){
            console.log(elements);
        }
    </script>

    <h3> 익명함수를 리턴하는 함수  </h3>
    이름 : <input type = "text" id = "name">
    <button onclick="test7()();">실행확인</button>
    <script>
        function test7(){
            var userrName = document.getElementById("name").value;
            return function(){
                alert(userrName + "님 환영합니다.");
            }
        }
    </script>
</body>
</html>